<div class="admin-container">
  <div class="header">
    <div class="header-content">
      <div>
        <h1>Hotel HB C√≥rdoba</h1>
        <p class="tagline">Panel de Administraci√≥n</p>
      </div>
      <div class="header-buttons">
        <button class="btn-reset" (click)="limpiarTodosLosDatos()">üóëÔ∏è Limpiar Datos</button>
        <button class="btn-logout" (click)="logout()">Cerrar Sesi√≥n</button>
      </div>
    </div>
  </div>

  <div class="dashboard-content">
    <div class="stats-overview">
      <div class="stat-card">
        <div class="stat-number">{{ estadisticas?.totalCancelaciones || 0 }}</div>
        <div class="stat-label">Encuestas de Cancelaci√≥n</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ estadisticas?.totalSeguimientos || 0 }}</div>
        <div class="stat-label">Encuestas de Seguimiento</div>
      </div>
    </div>

    <div class="charts-section" *ngIf="estadisticas?.cancelacion">
      <div class="chart-card">
        <h2>Estad√≠sticas de Cancelaci√≥n</h2>
        
        <div class="stat-item">
          <span class="stat-label-inline">Propuesta se ajust√≥:</span>
          <span class="stat-value">{{ estadisticas.cancelacion.propuestaAjustada }}%</span>
        </div>
        
        <div class="stat-item">
          <span class="stat-label-inline">Atenci√≥n cumpli√≥ expectativas:</span>
          <span class="stat-value">{{ estadisticas.cancelacion.atencionCumplio }}%</span>
        </div>
        
        <div class="stat-item">
          <span class="stat-label-inline">Encontraron alternativa:</span>
          <span class="stat-value">{{ estadisticas.cancelacion.encontroAlternativa }}%</span>
        </div>

        <h3>Motivos Principales</h3>
        <div class="list-items">
          <div class="list-item" *ngFor="let motivo of obtenerClaves(estadisticas.cancelacion.motivosPrincipales)">
            <span class="item-label">{{ motivo }}</span>
            <span class="item-count">{{ estadisticas.cancelacion.motivosPrincipales[motivo] }} respuestas</span>
          </div>
        </div>
      </div>
    </div>

    <div class="charts-section" *ngIf="estadisticas?.seguimiento">
      <div class="chart-card">
        <h2>Estad√≠sticas de Seguimiento</h2>
        
        <div class="stat-item">
          <span class="stat-label-inline">Quieren ajustar propuesta:</span>
          <span class="stat-value">{{ estadisticas.seguimiento.quierenAjuste }}%</span>
        </div>
        
        <div class="stat-item">
          <span class="stat-label-inline">Quieren visita/llamada:</span>
          <span class="stat-value">{{ estadisticas.seguimiento.quierenVisita }}%</span>
        </div>

        <div class="stat-item">
          <span class="stat-label-inline">Quieren contacto en 24h:</span>
          <span class="stat-value">{{ estadisticas.seguimiento.quierenContacto24h }}%</span>
        </div>

        <h3>Aspectos que Detienen</h3>
        <div class="list-items">
          <div class="list-item" *ngFor="let aspecto of obtenerClaves(estadisticas.seguimiento.aspectos)">
            <span class="item-label">{{ aspecto }}</span>
            <span class="item-count">{{ estadisticas.seguimiento.aspectos[aspecto] }} respuestas</span>
          </div>
        </div>

        <h3>Calificaci√≥n de Atenci√≥n</h3>
        <div class="list-items">
          <div class="list-item" *ngFor="let calificacion of obtenerClaves(estadisticas.seguimiento.atencion)">
            <span class="item-label">{{ calificacion }}</span>
            <span class="item-count">{{ estadisticas.seguimiento.atencion[calificacion] }} respuestas</span>
          </div>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="estadisticas?.totalCancelaciones === 0 && estadisticas?.totalSeguimientos === 0">
      <div class="empty-icon">üìä</div>
      <h3>No hay datos todav√≠a</h3>
      <p>Las estad√≠sticas aparecer√°n aqu√≠ cuando los clientes completen las encuestas.</p>
    </div>
  </div>
</div>